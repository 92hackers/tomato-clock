# 设计-开发对接指南

## 📋 概述

本指南旨在确保前端开发严格按照设计稿(`ui-design.md`, `index.html`)进行实现，避免FE-001任务中出现的设计偏离问题。

## 🚨 核心原则

### 1. **设计稿至上原则**
- ✅ **设计稿是唯一参考**: 所有UI实现必须以 `index.html` 和 `ui-design.md` 为准
- ✅ **像素级精确**: 容忍度不超过2px的偏差
- ✅ **颜色精确匹配**: 必须使用设计稿中定义的exact色值
- ❌ **禁止擅自简化**: 不允许为了"快速实现"而省略设计元素

### 2. **完整性检查原则** 
- ✅ **功能完整**: 设计稿中的所有功能都必须实现
- ✅ **视觉完整**: 设计稿中的所有视觉元素都必须还原
- ✅ **交互完整**: 设计稿中的所有交互效果都必须实现

## 🔍 强制性检查清单

### Phase 1: 开发前检查
在编写任何UI代码之前，必须完成：

- [ ] **设计稿研读**: 仔细阅读 `ui-design.md` 设计规范
- [ ] **原型分析**: 详细分析 `index.html` 中的所有视觉元素
- [ ] **组件拆分**: 将设计稿拆分为最小可实现组件
- [ ] **技术方案**: 确定如何用React+Tailwind实现每个设计元素

### Phase 2: 开发中检查  
编写代码过程中，每个组件完成后必须：

- [ ] **像素对照**: 与设计稿进行像素级对比
- [ ] **颜色验证**: 使用浏览器工具验证颜色值
- [ ] **间距测量**: 验证所有margin、padding符合8px网格
- [ ] **响应式测试**: 在不同屏幕尺寸下测试

### Phase 3: 完成后验收
组件开发完成后，必须通过：

- [ ] **视觉验收**: 与设计稿95%以上相似度
- [ ] **功能验收**: 所有交互功能正常工作  
- [ ] **性能验收**: 不存在明显的性能问题
- [ ] **测试验收**: 相关测试全部通过

## 📐 具体实施标准

### 1. 布局标准
```css
/* 必须遵循的布局规范 */
.main-card {
  background: white;
  border-radius: 20px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
  padding: 30px;
  width: 350px;
}

/* 间距必须符合8px网格 */
.spacing {
  margin: 8px | 16px | 24px | 32px; /* 只允许这些值 */
  padding: 8px | 16px | 24px | 32px; /* 只允许这些值 */
}
```

### 2. 色彩标准
```css
/* 严格使用设计稿定义的颜色 */
:root {
  --primary-blue: #007aff;
  --background-gray: #f0f0f0;
  --text-primary: #333;
  --text-secondary: #888;
  /* 禁止使用其他颜色 */
}
```

### 3. 字体标准
```css
/* 字体大小必须符合设计层级 */
.title { font-size: 20px; font-weight: 600; }
.body-text { font-size: 16px; font-weight: 400; }
.small-text { font-size: 14px; font-weight: 400; }
/* 禁止使用其他字体大小 */
```

## 🎯 当前任务中的具体要求

### 主界面卡片(`index.html`第一个screen)
```typescript
// 必须包含的元素（按index.html顺序）：
1. ✅ 顶部标题栏 (title + settings button)
2. ✅ 圆形计时器显示区域 (灰色背景圆形)
3. ✅ 模式切换标签 (3个标签：专注/短休息/长休息)
4. ✅ 控制按钮 (播放/暂停 + 重置)
5. ✅ 任务列表 ("今日任务" + 添加按钮 + 任务列表)
6. ✅ 统计面板 ("今日统计" + 3个统计卡片)
```

### 禁止的实现方式
❌ **简化版实现**: 不允许为了"快速完成"而省略任何设计元素  
❌ **个人偏好**: 不允许按个人喜好修改设计稿  
❌ **功能优先**: 不允许"先实现功能，后优化UI"的开发方式

## 🛠 技术实现指导

### 1. 使用自定义CSS而非Tailwind默认样式
```typescript
// ❌ 错误方式 (使用Tailwind默认样式)
<div className="bg-white p-6 rounded-lg shadow-md">

// ✅ 正确方式 (按设计稿自定义)
<div className="main-card">
<style jsx>{`
  .main-card {
    background: white;
    border-radius: 20px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
    padding: 30px;
    width: 350px;
  }
`}</style>
```

### 2. 严格还原index.html中的视觉效果
```typescript
// 必须按照index.html中的exact样式实现
// 例如：计时器圆形的实现
const TimerCircle = () => (
  <div className="timer-circle">
    <div className="timer">{formattedTime}</div>
  </div>
);

// CSS必须与index.html一致
.timer-circle {
  width: 200px;
  height: 200px;
  background-color: #f0f0f0;  /* exact same color */
  border-radius: 50%;
  margin: 0 auto 30px;
  display: flex;
  justify-content: center;
  align-items: center;
}
```

## 📝 验收流程

### 1. 自我检查
开发者必须在提交前进行：
- [ ] 与 `index.html` 进行视觉对比
- [ ] 检查所有设计元素是否完整
- [ ] 验证交互效果是否正确
- [ ] 确认响应式效果

### 2. 代码审查
审查者必须检查：
- [ ] 代码实现是否符合设计稿
- [ ] 是否存在擅自简化的情况  
- [ ] CSS样式是否符合设计规范
- [ ] 功能实现是否完整

### 3. 最终验收
项目负责人必须确认：
- [ ] 视觉效果与设计稿95%以上相似
- [ ] 所有功能正常运行
- [ ] 代码质量符合标准
- [ ] 测试覆盖率达标

## 🚫 常见错误及避免方法

### 错误1: 功能优先，设计其次
❌ **错误**: "先把功能做出来，UI后面再优化"  
✅ **正确**: 严格按设计稿实现，功能和UI同步开发

### 错误2: 擅自简化设计
❌ **错误**: "这个设计元素不重要，可以去掉"  
✅ **正确**: 设计稿中的每个元素都必须实现

### 错误3: 使用默认样式
❌ **错误**: 大量使用Tailwind默认类名  
✅ **正确**: 按设计稿定制CSS样式

### 错误4: 忽略细节
❌ **错误**: "差不多就行了"  
✅ **正确**: 像素级精确实现

## 📈 持续改进

### 1. 定期审查
- 每周进行一次设计-开发对接审查
- 及时发现和纠正偏离设计的问题

### 2. 文档更新  
- 根据实际开发经验不断完善本指南
- 记录常见问题和解决方案

### 3. 工具优化
- 开发设计稿对比工具
- 建立自动化视觉验证流程

---

**⚠️ 重要提醒**: 违反本指南的开发行为将被视为严重的代码质量问题，必须立即修复。设计一致性是产品质量的重要组成部分，不容忽视。 